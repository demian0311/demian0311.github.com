<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Another Look At Play2</title>
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css">
    </head>
    <body>
        <div class="site">
          <div class="header">
            <h1><a href="/">Demian Neidetcher</a> | Another Look At Play2</h1>
          </div>
          <div class="post">
<h1>Neidetcher: Another Look at Play2</h1>

<p><a href="http://www.playframework.org/assets/images/logos/normal.png"><img src="http://www.playframework.org/assets/images/logos/normal.png" alt=""></a><a href="http://raibledesigns.com/rd/search?q=play">Matt Raible has some good writeups on Play2</a>.  We switched to Scala about a year ago.  For lab week, a few of us evaluated Play earlier this year.  At the time I mostly worked with the persistence layer, <a href="https://github.com/playframework/Play20/wiki/ScalaAnorm">anorm</a>.  Our conclusion was that it wasn&#39;t quite ready for what we wanted to do. 
Just recently I finished a lab week and decided to take another look at Play.  Here are some conclusions.</p>

<p><strong>Overall</strong><br>
The big question is, compared to what.  At work we use Grails on the web side and Scala on the back-end.  The reality is that we leverage front-end engineers to help us make Time Warner Cable web sites look and behave well.  In our situation I don&#39;t think I can recommend it.  But if you&#39;re in a hardcore Scala shop and your Scala engineers can do enough of the front-end work then Play might be a good option.</p>

<p>Working with routes and templates felt a lot like Android development.  You work in a non-code DSL to create your routes and that turns into code that you write against.  Same for templates, they just turn into functions.  sbt run fires up their own netty server, it&#39;s solid.  It does a great job picking up changes. I didn&#39;t restart the play development server for a few days and it didn&#39;t miss anything.  Play also gives you helpful error messages in the browser when there are problems.</p>

<p><strong>Routes</strong><br>
They&#39;re handled in a text file.  I guess it&#39;s good because there&#39;s no cruft surrounding the definition of your routes.  It&#39;s bad because I think Scala is the perfect language for defining an internal DSL to handle routes.  It&#39;d be great to have IDE support while working with routes.</p>

<p><strong>Controllers</strong><br>
Everything feels very idiomatic to Scala.  For example optional parameters are (drum-roll) Options.  Play doesn&#39;t have you use servlet filters, you just wrap functions.  The controllers themselves are not easy to test but there are workarounds such that you can do good unit tests.</p>

<p><strong>Templating</strong><br>
It&#39;s familiar to someone used to Scala.  Templates are just functions and have input parameters with types.  This gets statically checked and your IDE will bark at you if you send the wrong data type into a template.  I think that&#39;s awesome.  The templating is not as rich as Groovy Server Pages.  For the actual templating work there is no good IDE support.  It&#39;d be great if TypeSafe took this on.  The templating that Play gives you would be painful for front-end engineers that are only familiar with HTML, CSS and JavaScript.</p>

<p><strong>Testing</strong><br>
They have utilities to help with testing.  All the examples use Specs, I haven&#39;t got the Specs memo yet, still using jUnit (get off my porch).  The biggest problem is that the controllers are objects so it&#39;s hard to do good unit testing.  I found a workaround that someone suggested.  Basically your controller is a class, in this case taking a dependency via the constructor.  Then the object that you tell Play about in the routes extends that class.  This seems to work in my toy example.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">object MockUp extends controllers.MockUp(new ProductionGuidCryptoServiceProvider()) {}
</code></pre></div>
</div>

          <div class="footer">
          This work is licensed under a 
          <a rel="license" 
          href="http://creativecommons.org/licenses/by/4.0/deed.en_US"
          >Creative Commons Attribution 4.0 International License</a>.
          </div>
        </div>
    </body>
</html>
